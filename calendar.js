var Calendar=function(){"use strict";function t(t,e){return e[t]}function e(t,e,n){for(var o=[],i=new Date(t,e,1).getDay(),r=[],a=[31,t%100!=0&&t%4==0||t%400==0?29:28,31,30,31,30,31,31,30,31,30,31][e],l=0,c=0;c<i;c++)r.push({number:"",entries:[]});for(c=0;c<a;c++){var s=new Date(t,e,c+1),u=n.filter(function(t){return t.days.indexOf(s.toDateString())>-1});l+=u.length,r.push({number:c+1,date:s,entries:u})}for(c=0;c<r.length;c+=7)o.push(r.slice(c,c+7));for(var d=o[o.length-1],f=7-d.length,c=0;c<f;c++)d.push({number:"",entries:[]});return{weeks:o,numEntries:l}}function n(){return{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:(new Date).getMonth(),day:(new Date).getDate(),year:(new Date).getFullYear(),escape:!0,previousText:"Prev",nextText:"Next",calendarText:"Calendar",listText:"List",untitledText:"Untitled",emptyText:"No Events To Display",newText:"Add New",view:"calendar",defaultColor:"#00008b",showModal:!1,activeEntry:null,showNew:!1,entries:[],parsedEntries:[],loading:!1,loadingText:"loading...",modalButtons:[{text:"One",id:"btn-one"},{text:"Two",id:"btn-two"}]}}function o(t,e,n){return t?t.length<=e?t:t.substr(0,e)+"...":n||" "}function i(t){if(console.log(t),!t)return"#ffffff";var e="#"===t.charAt(0)?t.substring(1,7):t,n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return console.log(n,o,i),.299*n+.587*o+.114*i>186?"#000000":"#ffffff"}function r(){window.addEventListener("keydown",function(t){27===t.keyCode&&this.set({showModal:!1})}.bind(this)),this.observe("showModal",function(t){t?document.querySelector("html").style.overflow="hidden":(this.set({activeEntry:null}),this.refs.modalContent.innerHTML="",document.querySelector("html").style.overflow="")}),this.observe("entries",function(t){var e=this,n=t.map(function(t){if(t.id||(t.id=Math.random().toString(36).substr(2)),t.color||(t.color=e.get("defaultColor")),t.startDate=new Date(Date.parse(t.dateFrom)),t.days=[t.startDate.toDateString()],t.dateTo){t.endDate=new Date(Date.parse(t.dateTo));var n=new Date(+t.startDate),o=new Date(+t.endDate);[n,o].forEach(function(t){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)});for(var i=Math.round((o-n)/1e3/60/60/24),r=0;r<i;r++){var a=new Date(+t.startDate);a.setDate(a.getDate()+r+1),t.days.push(a.toDateString())}}return t});this.set({parsedEntries:n})})}function a(t){J(t,"svelte-1177934515","")}function l(){var t=Y("style");t.id="svelte-1177934515-style",t.textContent='[svelte-1177934515]{font-family:Arial, Helvetica, sans-serif;box-sizing:border-box;-webkit-box-sizing:border-box;font-size:14px}img[svelte-1177934515]{max-width:100%;margin-bottom:1rem}#header[svelte-1177934515]{display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-flow:row wrap}small[svelte-1177934515]{font-size:0.8rem;font-weight:300}.left[svelte-1177934515],.right[svelte-1177934515]{display:flex}@media screen and (max-width: 700px){.nav-buttons[svelte-1177934515]{order:3}.view-buttons[svelte-1177934515]{order:4}.left[svelte-1177934515],.right[svelte-1177934515]{flex-direction:column;align-self:flex-end}.nav-buttons[svelte-1177934515],.view-buttons[svelte-1177934515]{flex-basis:49%;margin-top:0.6rem}.title[svelte-1177934515]{min-width:60%}}.nav-buttons[svelte-1177934515]{margin-right:1rem}.title[svelte-1177934515]{font-weight:600;font-size:1.5rem}.modal-title[svelte-1177934515]{display:block;margin-bottom:2rem}.loading[svelte-1177934515]{padding:0 0.6rem}table[svelte-1177934515]{width:100%;max-width:100%;border-collapse:collapse;table-layout:fixed}tbody[svelte-1177934515] tr[svelte-1177934515]{height:150px}th[svelte-1177934515]{background:whitesmoke}td[svelte-1177934515]{text-align:right;vertical-align:top}th[svelte-1177934515],td[svelte-1177934515]{border:1px solid #ddd}button[svelte-1177934515]{border:1px solid #333;border-radius:3px;padding:0.3rem 0.6rem;background:white;color:black}button[svelte-1177934515]:hover{cursor:pointer;background:#ddd}button.is-active[svelte-1177934515]{background-color:#666;color:white}.entry[svelte-1177934515]{display:block;background-color:darkblue;padding:0.1rem 0.3rem;width:100%;color:white;border-radius:3px;text-align:left;margin-bottom:3px;cursor:pointer}@media screen and (max-width: 600px){.entry[svelte-1177934515]{font-size:0;height:20px}}.filler[svelte-1177934515]{border:none}.time[svelte-1177934515]{text-decoration:underline}.add-new[svelte-1177934515]{background-color:whitesmoke;width:100%;padding:0.5rem 0;text-align:center;border:2px dashed #ccc;cursor:pointer;display:none;font-weight:600;font-size:1.5rem;color:#777}td[svelte-1177934515]:not(.filler):hover .add-new[svelte-1177934515]{display:block}.row-header[svelte-1177934515]{background-color:whitesmoke;padding:0.8rem 1rem;font-weight:600}.row-content[svelte-1177934515]{padding:0.8rem 1rem}.dot[svelte-1177934515]{display:inline-block;width:12px;height:12px;border-radius:6px}.row-entry-title[svelte-1177934515]:hover{text-decoration:underline;cursor:pointer}.row-entry-time[svelte-1177934515]{font-weight:600}.no-entries[svelte-1177934515]{text-align:center;padding:10rem 0;width:100%;background-color:whitesmoke}.modal[svelte-1177934515]{bottom:0;left:0;right:0;top:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:fixed;z-index:20}.modal.is-active[svelte-1177934515]{display:-webkit-box;display:-ms-flexbox;display:flex}.modal-background[svelte-1177934515]{bottom:0;left:0;position:fixed;right:0;top:0;background-color:rgba(10, 10, 10, 0.86)}.modal-content[svelte-1177934515]{margin:0 20px;max-height:calc(100vh - 100px);overflow:auto;position:relative;width:100%;padding:2rem;background-color:white;border-radius:3px}@media screen and (min-width: 769px),\n  print{.modal-content[svelte-1177934515]{margin:0 auto;max-height:calc(100vh - 40px);width:640px}}.modal-close[svelte-1177934515]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10, 10, 10, 0.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;font-size:1rem;outline:none;position:absolute;vertical-align:top;background:none;height:40px;right:5px;top:5px;width:40px}.modal-close[svelte-1177934515]:before,.modal-close[svelte-1177934515]:after{background-color:#333;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.modal-close[svelte-1177934515]:before{height:2px;width:50%}.modal-close[svelte-1177934515]:after{height:50%;width:2px}.modal-close[svelte-1177934515]:hover,.modal-close[svelte-1177934515]:focus{background-color:rgba(10, 10, 10, 0.3)}.modal-close[svelte-1177934515]:active{background-color:rgba(10, 10, 10, 0.4)}.entry-meta[svelte-1177934515]{margin-bottom:1rem}.modal-buttons[svelte-1177934515]{margin-top:1rem}.modal-buttons[svelte-1177934515] button[svelte-1177934515]{margin-right:5px}',q(t,document.head)}function c(t,e){function n(t){var n=e.get();e.set({month:0===n.month?11:n.month-1,year:0===n.month?n.year-1:n.year})}function o(t){var n=e.get();e.set({month:(n.month+1)%12,year:11===n.month?n.year+1:n.year})}function i(t){e.set({view:"calendar"})}function r(t){e.set({view:"list"})}function l(t){e.set({showModal:!1})}function c(t){e.set({showModal:!1})}var u,d,f,h,m,v,g,p,b,y,x,w,_,k,N,D,T,E,C,M,B,z,L,A,O,j,I,Q,R,V,Z,$,tt,et,nt,ot,it=t.loading&&s(t,e),rt=H(t),at=rt(t,e),lt=t.activeEntry&&S(t,e),ct=t.modalButtons.length>1&&F(t,e);return{c:function(){u=Y("div"),d=Y("div"),f=Y("div"),h=Y("div"),m=Y("button"),v=P(t.previousText),g=P("\n        "),p=Y("button"),b=P(t.nextText),y=P("\n      "),x=Y("span"),w=P(t.year),_=P(" "),k=P(t.monthName),N=P("\n        "),it&&it.c(),D=P("\n    "),T=Y("div"),E=Y("div"),C=Y("button"),B=P(t.calendarText),z=P("\n        "),L=Y("button"),O=P(t.listText),j=P("\n  "),at.c(),I=P("\n"),Q=Y("div"),V=Y("div"),Z=P("\n  "),$=Y("div"),tt=Y("button"),et=P("\n    "),nt=Y("div"),lt&&lt.c(),ot=P("\n    "),ct&&ct.c(),this.h()},h:function(){a(u),a(d),d.id="header",a(f),f.className="left",a(h),h.className="nav-buttons",a(m),X(m,"click",n),a(p),X(p,"click",o),a(x),x.className="title",a(T),T.className="right",a(E),E.className="view-buttons",a(C),C.className=M="calendar"===t.view?"is-active":"",X(C,"click",i),a(L),U(L,"margin-left","5px"),L.className=A="list"===t.view?"is-active":"",X(L,"click",r),a(Q),Q.className=R="modal "+(t.showModal?"is-active":""),a(V),V.className="modal-background",X(V,"click",l),a($),$.className="modal-content",a(tt),tt.className="modal-close is-large",J(tt,"aria-label","close"),X(tt,"click",c),a(nt),nt.className="modal-container"},m:function(t,n){W(u,t,n),q(d,u),q(f,d),q(h,f),q(m,h),q(v,m),q(g,h),q(p,h),q(b,p),q(y,f),q(x,f),q(w,x),q(_,x),q(k,x),q(N,x),it&&it.m(x,null),q(D,d),q(T,d),q(E,T),q(C,E),q(B,C),q(z,E),q(L,E),q(O,L),q(j,u),at.m(u,null),W(I,t,n),W(Q,t,n),q(V,Q),q(Z,Q),q($,Q),q(tt,$),q(et,$),q(nt,$),e.refs.modalContent=nt,lt&&lt.m(nt,null),q(ot,$),ct&&ct.m($,null)},p:function(t,n){t.previousText&&(v.data=n.previousText),t.nextText&&(b.data=n.nextText),t.year&&(w.data=n.year),t.monthName&&(k.data=n.monthName),n.loading?it?it.p(t,n):((it=s(n,e)).c(),it.m(x,null)):it&&(it.u(),it.d(),it=null),t.view&&M!==(M="calendar"===n.view?"is-active":"")&&(C.className=M),t.calendarText&&(B.data=n.calendarText),t.view&&A!==(A="list"===n.view?"is-active":"")&&(L.className=A),t.listText&&(O.data=n.listText),rt===(rt=H(n))&&at?at.p(t,n):(at.u(),at.d(),(at=rt(n,e)).c(),at.m(u,null)),t.showModal&&R!==(R="modal "+(n.showModal?"is-active":""))&&(Q.className=R),n.activeEntry?lt?lt.p(t,n):((lt=S(n,e)).c(),lt.m(nt,null)):lt&&(lt.u(),lt.d(),lt=null),n.modalButtons.length>1?ct?ct.p(t,n):((ct=F(n,e)).c(),ct.m($,null)):ct&&(ct.u(),ct.d(),ct=null)},u:function(){G(u),it&&it.u(),at.u(),G(I),G(Q),lt&&lt.u(),ct&&ct.u()},d:function(){K(m,"click",n),K(p,"click",o),it&&it.d(),K(C,"click",i),K(L,"click",r),at.d(),K(V,"click",l),K(tt,"click",c),e.refs.modalContent===nt&&(e.refs.modalContent=null),lt&&lt.d(),ct&&ct.d()}}}function s(t,e){var n,o;return{c:function(){n=Y("small"),o=P(t.loadingText),this.h()},h:function(){a(n),n.className="loading"},m:function(t,e){W(n,t,e),q(o,n)},p:function(t,e){t.loadingText&&(o.data=e.loadingText)},u:function(){G(n)},d:Q}}function u(t,e,n,o,i){var r,l,c=n;return{c:function(){r=Y("th"),l=P(c),this.h()},h:function(){a(r)},m:function(t,e){W(r,t,e),q(l,r)},p:function(t,e,n,o,i){t.dayNames&&c!==(c=o)&&(l.data=c)},u:function(){G(r)},d:Q}}function d(t,e,n,o,i){for(var r,l=n,c=[],s=0;s<l.length;s+=1)c[s]=f(t,e,n,o,l,l[s],s,i);return{c:function(){r=Y("tr");for(var t=0;t<c.length;t+=1)c[t].c();this.h()},h:function(){a(r)},m:function(t,e){W(r,t,e);for(var n=0;n<c.length;n+=1)c[n].m(r,null)},p:function(t,e,n,o,a){var l=o;if(t.monthData||t.defaultColor||t.untitledText||t.showNew){for(var s=0;s<l.length;s+=1)c[s]?c[s].p(t,e,n,o,a,l,l[s],s):(c[s]=f(e,n,o,a,l,l[s],s,i),c[s].c(),c[s].m(r,null));for(;s<c.length;s+=1)c[s].u(),c[s].d();c.length=l.length}},u:function(){G(r);for(var t=0;t<c.length;t+=1)c[t].u()},d:function(){R(c)}}}function f(t,e,n,o,i,r,l,c){for(var s,u,d,f,v,g,p=r.number,b=r.entries,y=[],x=0;x<b.length;x+=1)y[x]=h(t,e,n,o,i,r,l,b,b[x],x,c);var w=t.showNew&&m(t,e,n,o,i,r,l,c);return{c:function(){s=Y("td"),d=Y("span"),f=P(p),v=P("\n                ");for(var t=0;t<y.length;t+=1)y[t].c();g=P("\n                "),w&&w.c(),this.h()},h:function(){a(s),s.className=u=""===r.number?"filler":"",a(d),d.className="day-number"},m:function(t,e){W(s,t,e),q(d,s),q(f,d),q(v,s);for(var n=0;n<y.length;n+=1)y[n].m(s,null);q(g,s),w&&w.m(s,null)},p:function(t,e,n,o,i,r,a,l){t.monthData&&u!==(u=""===a.number?"filler":"")&&(s.className=u),t.monthData&&p!==(p=a.number)&&(f.data=p);var d=a.entries;if(t.monthData||t.defaultColor||t.untitledText){for(var v=0;v<d.length;v+=1)y[v]?y[v].p(t,e,n,o,i,r,a,l,d,d[v],v):(y[v]=h(e,n,o,i,r,a,l,d,d[v],v,c),y[v].c(),y[v].m(s,g));for(;v<y.length;v+=1)y[v].u(),y[v].d();y.length=d.length}e.showNew?w?w.p(t,e,n,o,i,r,a,l):((w=m(e,n,o,i,r,a,l,c)).c(),w.m(s,null)):w&&(w.u(),w.d(),w=null)},u:function(){G(s);for(var t=0;t<y.length;t+=1)y[t].u();w&&w.u()},d:function(){R(y),w&&w.d()}}}function h(t,e,n,r,l,c,s,u,d,f,h){var m,v,g,p,b=o(d.title,30,t.untitledText);return{c:function(){m=Y("span"),p=P(b),this.h()},h:function(){a(m),m.className=v="entry "+(d.content?"has-content":""),U(m,"background-color",d.color||t.defaultColor),U(m,"color",i(d.color)),m.title=g=d.title,X(m,"click",z),m._svelte={component:h,entries:u,entry_index:f}},m:function(t,e){W(m,t,e),q(p,m)},p:function(t,e,n,r,a,l,c,s,u,d,f){t.monthData&&v!==(v="entry "+(d.content?"has-content":""))&&(m.className=v),(t.monthData||t.defaultColor)&&U(m,"background-color",d.color||e.defaultColor),t.monthData&&U(m,"color",i(d.color)),t.monthData&&g!==(g=d.title)&&(m.title=g),m._svelte.entries=u,m._svelte.entry_index=f,(t.monthData||t.untitledText)&&b!==(b=o(d.title,30,e.untitledText))&&(p.data=b)},u:function(){G(m)},d:function(){K(m,"click",z)}}}function m(t,e,n,o,i,r,l,c){var s;return{c:function(){(s=Y("div")).textContent="+",this.h()},h:function(){a(s),s.className="add-new",X(s,"click",L),s._svelte={component:c,weekdays_1:i,weekday_index:l}},m:function(t,e){W(s,t,e)},p:function(t,e,n,o,i,r,a,l){s._svelte.weekdays_1=r,s._svelte.weekday_index=l},u:function(){G(s)},d:function(){K(s,"click",L)}}}function v(t,e){var n,o;return{c:function(){n=Y("div"),o=P(t.emptyText),this.h()},h:function(){a(n),n.className="no-entries"},m:function(t,e){W(n,t,e),q(o,n)},p:function(t,e){t.emptyText&&(o.data=e.emptyText)},u:function(){G(n)},d:Q}}function g(t,e,n,o,i){for(var r,a=n,l=[],c=0;c<a.length;c+=1)l[c]=p(t,e,n,o,a,a[c],c,i);return{c:function(){for(var t=0;t<l.length;t+=1)l[t].c();r=V()},m:function(t,e){for(var n=0;n<l.length;n+=1)l[n].m(t,e);W(r,t,e)},p:function(t,e,n,o,a){var c=o;if(t.monthData||t.defaultColor||t.untitledText){for(var s=0;s<c.length;s+=1)l[s]?l[s].p(t,e,n,o,a,c,c[s],s):(l[s]=p(e,n,o,a,c,c[s],s,i),l[s].c(),l[s].m(r.parentNode,r));for(;s<l.length;s+=1)l[s].u(),l[s].d();l.length=c.length}},u:function(){for(var t=0;t<l.length;t+=1)l[t].u();G(r)},d:function(){R(l)}}}function p(t,e,n,o,i,r,a,l){var c,s=r.entries.length>0&&w(t,e,n,o,i,r,a,l);return{c:function(){s&&s.c(),c=V()},m:function(t,e){s&&s.m(t,e),W(c,t,e)},p:function(t,e,n,o,i,r,a,u){a.entries.length>0?s?s.p(t,e,n,o,i,r,a,u):((s=w(e,n,o,i,r,a,u,l)).c(),s.m(c.parentNode,c)):s&&(s.u(),s.d(),s=null)},u:function(){s&&s.u(),G(c)},d:function(){s&&s.d()}}}function b(t,e,n,i,r,l,c,s,u,d,f){var h,m,v,g,p,b,w,_=o(u.title,70,t.untitledText),k=u.timeFrom&&1===u.days.length&&y(t,e,n,i,r,l,c,s,u,d,f),N=u.timeTo&&1===u.days.length&&x(t,e,n,i,r,l,c,s,u,d,f);return{c:function(){h=Y("p"),m=Y("span"),v=P("\n                "),k&&k.c(),g=P("\n                "),N&&N.c(),p=P("\n\n                "),b=Y("span"),w=P(_),this.h()},h:function(){a(h),a(m),m.className="dot",U(m,"background-color",u.color||t.defaultColor),a(b),b.className="row-entry-title",X(b,"click",A),b._svelte={component:f,entries:s,entry_index:d}},m:function(t,e){W(h,t,e),q(m,h),q(v,h),k&&k.m(h,null),q(g,h),N&&N.m(h,null),q(p,h),q(b,h),q(w,b)},p:function(t,e,n,i,r,a,l,c,s,u,d){(t.monthData||t.defaultColor)&&U(m,"background-color",u.color||e.defaultColor),u.timeFrom&&1===u.days.length?k?k.p(t,e,n,i,r,a,l,c,s,u,d):((k=y(e,n,i,r,a,l,c,s,u,d,f)).c(),k.m(h,g)):k&&(k.u(),k.d(),k=null),u.timeTo&&1===u.days.length?N?N.p(t,e,n,i,r,a,l,c,s,u,d):((N=x(e,n,i,r,a,l,c,s,u,d,f)).c(),N.m(h,p)):N&&(N.u(),N.d(),N=null),b._svelte.entries=s,b._svelte.entry_index=d,(t.monthData||t.untitledText)&&_!==(_=o(u.title,70,e.untitledText))&&(w.data=_)},u:function(){G(h),k&&k.u(),N&&N.u()},d:function(){k&&k.d(),N&&N.d(),K(b,"click",A)}}}function y(t,e,n,o,i,r,l,c,s,u,d){var f,h,m=s.timeFrom;return{c:function(){f=Y("span"),h=P(m),this.h()},h:function(){a(f),f.className="row-entry-time"},m:function(t,e){W(f,t,e),q(h,f)},p:function(t,e,n,o,i,r,a,l,c,s,u){t.monthData&&m!==(m=s.timeFrom)&&(h.data=m)},u:function(){G(f)},d:Q}}function x(t,e,n,o,i,r,l,c,s,u,d){var f,h,m,v=s.timeTo;return{c:function(){f=Y("span"),h=P("- "),m=P(v),this.h()},h:function(){a(f),f.className="row-entry-time"},m:function(t,e){W(f,t,e),q(h,f),q(m,f)},p:function(t,e,n,o,i,r,a,l,c,s,u){t.monthData&&v!==(v=s.timeTo)&&(m.data=v)},u:function(){G(f)},d:Q}}function w(t,e,n,o,i,r,l,c){for(var s,u,d,f,h=r.date.toDateString(),m=r.entries,v=[],g=0;g<m.length;g+=1)v[g]=b(t,e,n,o,i,r,l,m,m[g],g,c);return{c:function(){s=Y("div"),u=P(h),d=P("\n          "),f=Y("div");for(var t=0;t<v.length;t+=1)v[t].c();this.h()},h:function(){a(s),s.className="row-header",a(f),f.className="row-content"},m:function(t,e){W(s,t,e),q(u,s),W(d,t,e),W(f,t,e);for(var n=0;n<v.length;n+=1)v[n].m(f,null)},p:function(t,e,n,o,i,r,a,l){t.monthData&&h!==(h=a.date.toDateString())&&(u.data=h);var s=a.entries;if(t.monthData||t.defaultColor||t.untitledText){for(var d=0;d<s.length;d+=1)v[d]?v[d].p(t,e,n,o,i,r,a,l,s,s[d],d):(v[d]=b(e,n,o,i,r,a,l,s,s[d],d,c),v[d].c(),v[d].m(f,null));for(;d<v.length;d+=1)v[d].u(),v[d].d();v.length=s.length}},u:function(){G(s),G(d),G(f);for(var t=0;t<v.length;t+=1)v[t].u()},d:function(){R(v)}}}function _(t,e){for(var n,o,i,r,l,c=t.dayNames,s=[],f=0;f<c.length;f+=1)s[f]=u(t,c,c[f],f,e);for(var h=t.monthData.weeks,m=[],f=0;f<h.length;f+=1)m[f]=d(t,h,h[f],f,e);return{c:function(){n=Y("table"),o=Y("thead"),i=Y("tr");for(t=0;t<s.length;t+=1)s[t].c();r=P("\n      "),l=Y("tbody");for(var t=0;t<m.length;t+=1)m[t].c();this.h()},h:function(){a(n),a(o),a(i),a(l)},m:function(t,e){W(n,t,e),q(o,n),q(i,o);for(a=0;a<s.length;a+=1)s[a].m(i,null);q(r,n),q(l,n);for(var a=0;a<m.length;a+=1)m[a].m(l,null)},p:function(t,n){var o=n.dayNames;if(t.dayNames){for(a=0;a<o.length;a+=1)s[a]?s[a].p(t,n,o,o[a],a):(s[a]=u(n,o,o[a],a,e),s[a].c(),s[a].m(i,null));for(;a<s.length;a+=1)s[a].u(),s[a].d();s.length=o.length}var r=n.monthData.weeks;if(t.monthData||t.defaultColor||t.untitledText||t.showNew){for(var a=0;a<r.length;a+=1)m[a]?m[a].p(t,n,r,r[a],a):(m[a]=d(n,r,r[a],a,e),m[a].c(),m[a].m(l,null));for(;a<m.length;a+=1)m[a].u(),m[a].d();m.length=r.length}},u:function(){G(n);for(t=0;t<s.length;t+=1)s[t].u();for(var t=0;t<m.length;t+=1)m[t].u()},d:function(){R(s),R(m)}}}function k(t,e){for(var n,o,i=0===t.monthData.numEntries&&v(t,e),r=t.monthData.weeks,a=[],l=0;l<r.length;l+=1)a[l]=g(t,r,r[l],l,e);return{c:function(){i&&i.c(),n=P("\n    ");for(var t=0;t<a.length;t+=1)a[t].c();o=V()},m:function(t,e){i&&i.m(t,e),W(n,t,e);for(var r=0;r<a.length;r+=1)a[r].m(t,e);W(o,t,e)},p:function(t,r){0===r.monthData.numEntries?i?i.p(t,r):((i=v(r,e)).c(),i.m(n.parentNode,n)):i&&(i.u(),i.d(),i=null);var l=r.monthData.weeks;if(t.monthData||t.defaultColor||t.untitledText){for(var c=0;c<l.length;c+=1)a[c]?a[c].p(t,r,l,l[c],c):(a[c]=g(r,l,l[c],c,e),a[c].c(),a[c].m(o.parentNode,o));for(;c<a.length;c+=1)a[c].u(),a[c].d();a.length=l.length}},u:function(){i&&i.u(),G(n);for(var t=0;t<a.length;t+=1)a[t].u();G(o)},d:function(){i&&i.d(),R(a)}}}function N(t,e){var n,o,i=t.activeEntry.timeFrom;return{c:function(){n=Y("span"),o=P(i),this.h()},h:function(){a(n),n.className="time"},m:function(t,e){W(n,t,e),q(o,n)},p:function(t,e){t.activeEntry&&i!==(i=e.activeEntry.timeFrom)&&(o.data=i)},u:function(){G(n)},d:Q}}function D(t,e){var n,o,i=t.activeEntry.timeTo;return{c:function(){n=Y("span"),o=P(i),this.h()},h:function(){a(n),n.className="time"},m:function(t,e){W(n,t,e),q(o,n)},p:function(t,e){t.activeEntry&&i!==(i=e.activeEntry.timeTo)&&(o.data=i)},u:function(){G(n)},d:Q}}function T(t,e){var n,o,i,r,l,c,s,u=t.activeEntry.endDate.toDateString(),d=t.activeEntry.timeTo&&D(t,e);return{c:function(){n=Y("br"),o=P("\n            "),(i=Y("strong")).textContent="End:",r=P(" "),l=P(u),c=P("\n            "),d&&d.c(),s=V(),this.h()},h:function(){a(n),a(i)},m:function(t,e){W(n,t,e),W(o,t,e),W(i,t,e),W(r,t,e),W(l,t,e),W(c,t,e),d&&d.m(t,e),W(s,t,e)},p:function(t,n){t.activeEntry&&u!==(u=n.activeEntry.endDate.toDateString())&&(l.data=u),n.activeEntry.timeTo?d?d.p(t,n):((d=D(n,e)).c(),d.m(s.parentNode,s)):d&&(d.u(),d.d(),d=null)},u:function(){G(n),G(o),G(i),G(r),G(l),G(c),d&&d.u(),G(s)},d:function(){d&&d.d()}}}function E(t,e){var n,o,i;return{c:function(){n=Y("img"),this.h()},h:function(){a(n),n.src=o=t.activeEntry.image,n.alt=i=t.activeEntry.title},m:function(t,e){W(n,t,e)},p:function(t,e){t.activeEntry&&o!==(o=e.activeEntry.image)&&(n.src=o),t.activeEntry&&i!==(i=e.activeEntry.title)&&(n.alt=i)},u:function(){G(n)},d:Q}}function C(t,e){var n,o=t.activeEntry.content;return{c:function(){n=P(o)},m:function(t,e){W(n,t,e)},p:function(t,e){t.activeEntry&&o!==(o=e.activeEntry.content)&&(n.data=o)},u:function(){G(n)},d:Q}}function M(t,e){var n,o=t.activeEntry.content;return{c:function(){n=Y("div"),this.h()},h:function(){a(n)},m:function(t,e){W(n,t,e),n.innerHTML=o},p:function(t,e){t.activeEntry&&o!==(o=e.activeEntry.content)&&(n.innerHTML=o)},u:function(){n.innerHTML="",G(n)},d:Q}}function S(t,e){var n,o,i,r,l,c,s,u,d,f,h,m,v=t.activeEntry.title||t.untitledText,g=t.activeEntry.startDate.toDateString(),p=t.activeEntry.timeFrom&&N(t,e),b=t.activeEntry.dateTo&&T(t,e),y=t.activeEntry.image&&E(t,e),x=O(t),w=x(t,e);return{c:function(){n=Y("span"),o=P(v),i=P("\n        "),r=Y("div"),(l=Y("strong")).textContent="Start:",c=P(" "),s=P(g),u=P("\n          "),p&&p.c(),d=P("\n          "),b&&b.c(),f=P("\n        "),y&&y.c(),h=P("\n        "),w.c(),m=V(),this.h()},h:function(){a(n),n.className="title modal-title",a(r),r.className="entry-meta",a(l)},m:function(t,e){W(n,t,e),q(o,n),W(i,t,e),W(r,t,e),q(l,r),q(c,r),q(s,r),q(u,r),p&&p.m(r,null),q(d,r),b&&b.m(r,null),W(f,t,e),y&&y.m(t,e),W(h,t,e),w.m(t,e),W(m,t,e)},p:function(t,n){(t.activeEntry||t.untitledText)&&v!==(v=n.activeEntry.title||n.untitledText)&&(o.data=v),t.activeEntry&&g!==(g=n.activeEntry.startDate.toDateString())&&(s.data=g),n.activeEntry.timeFrom?p?p.p(t,n):((p=N(n,e)).c(),p.m(r,d)):p&&(p.u(),p.d(),p=null),n.activeEntry.dateTo?b?b.p(t,n):((b=T(n,e)).c(),b.m(r,null)):b&&(b.u(),b.d(),b=null),n.activeEntry.image?y?y.p(t,n):((y=E(n,e)).c(),y.m(h.parentNode,h)):y&&(y.u(),y.d(),y=null),x===(x=O(n))&&w?w.p(t,n):(w.u(),w.d(),(w=x(n,e)).c(),w.m(m.parentNode,m))},u:function(){G(n),G(i),G(r),p&&p.u(),b&&b.u(),G(f),y&&y.u(),G(h),w.u(),G(m)},d:function(){p&&p.d(),b&&b.d(),y&&y.d(),w.d()}}}function B(t,e,n,o,i){var r,l,c=n.text;return{c:function(){r=Y("button"),l=P(c),this.h()},h:function(){a(r),r.className="button",X(r,"click",j),r._svelte={component:i,modalButtons:e,button_index:o}},m:function(t,e){W(r,t,e),q(l,r)},p:function(t,e,n,o,i){r._svelte.modalButtons=n,r._svelte.button_index=i,t.modalButtons&&c!==(c=o.text)&&(l.data=c)},u:function(){G(r)},d:function(){K(r,"click",j)}}}function F(t,e){for(var n,o=t.modalButtons,i=[],r=0;r<o.length;r+=1)i[r]=B(t,o,o[r],r,e);return{c:function(){n=Y("div");for(var t=0;t<i.length;t+=1)i[t].c();this.h()},h:function(){a(n),n.className="modal-buttons"},m:function(t,e){W(n,t,e);for(var o=0;o<i.length;o+=1)i[o].m(n,null)},p:function(t,o){var r=o.modalButtons;if(t.modalButtons||t.activeEntry){for(var a=0;a<r.length;a+=1)i[a]?i[a].p(t,o,r,r[a],a):(i[a]=B(o,r,r[a],a,e),i[a].c(),i[a].m(n,null));for(;a<i.length;a+=1)i[a].u(),i[a].d();i.length=r.length}},u:function(){G(n);for(var t=0;t<i.length;t+=1)i[t].u()},d:function(){R(i)}}}function z(t){var e=this._svelte.component,n=this._svelte.entries[this._svelte.entry_index];e.loadEntry(n)}function L(t){var e=this._svelte.component,n=this._svelte.weekdays_1[this._svelte.weekday_index];e.fire("newClicked",{day:n})}function A(t){var e=this._svelte.component,n=this._svelte.entries[this._svelte.entry_index];e.loadEntry(n)}function H(t){return"calendar"===t.view?_:k}function O(t){return t.escape?C:M}function j(t){var e=this._svelte.component,n=this._svelte.modalButtons[this._svelte.button_index],o=e.get();e.fire(n.id,{entry:o.activeEntry})}function I(t){Z(this,t),this.refs={},this._state=$(n(),t.data),this._recompute({month:1,monthNames:1,year:1,parsedEntries:1},this._state),document.getElementById("svelte-1177934515-style")||l();var e=r.bind(this);t._root?this._root._oncreate.push(e):this._oncreate=[e],this._fragment=c(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),tt(this._oncreate))}function J(t,e,n){t.setAttribute(e,n)}function Y(t){return document.createElement(t)}function q(t,e){e.appendChild(t)}function P(t){return document.createTextNode(t)}function X(t,e,n){t.addEventListener(e,n,!1)}function U(t,e,n){t.style.setProperty(e,n)}function W(t,e,n){e.insertBefore(t,n)}function G(t){t.parentNode.removeChild(t)}function K(t,e,n){t.removeEventListener(e,n,!1)}function Q(){}function R(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function V(){return document.createComment("")}function Z(t,e){t.options=e,t._observers={pre:ot(),post:ot()},t._handlers=ot(),t._root=e._root||t,t._yield=e._yield,t._bind=e._bind}function $(t){for(var e,n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(e in n)t[e]=n[e]}return t}function tt(t){for(;t&&t.length;)t.pop()()}function et(t){this.destroy=Q,this.fire("destroy"),this.set=this.get=Q,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function nt(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function ot(){return Object.create(null)}function it(t,e,n,o,i){for(var r in e)if(n[r]){var a=o[r],l=i[r],c=e[r];if(c)for(var s=0;s<c.length;s+=1){var u=c[s];u.__calling||(u.__calling=!0,u.call(t,a,l),u.__calling=!1)}}}var rt={loadEntry:function(t){this.fire("entryClicked",{entry:t}),this.set({showModal:!0,activeEntry:t})}};return $(I.prototype,rt,{destroy:et,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set($({},t)),this._root._lock||(this._root._lock=!0,tt(this._root._beforecreate),tt(this._root._oncreate),tt(this._root._aftercreate),this._root._lock=!1)},teardown:et,_set:function(t){var e=this._state,n={},o=!1;for(var i in t)nt(t[i],e[i])&&(n[i]=o=!0);o&&(this._state=$({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),it(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),it(this,this._observers.post,n,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment.u()}}),I.prototype._recompute=function(n,o){(n.month||n.monthNames)&&nt(o.monthName,o.monthName=t(o.month,o.monthNames))&&(n.monthName=!0),(n.year||n.month||n.parsedEntries)&&nt(o.monthData,o.monthData=e(o.year,o.month,o.parsedEntries))&&(n.monthData=!0)},I}();